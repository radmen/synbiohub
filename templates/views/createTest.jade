extends ../layouts/default.jade
include ../mixins/attachments.jade

block breadcrumbs
    ul
        li
            span.fa.fa-cloud-upload
            |  Experiment Submission


block content
    div.submission-container(align='center')
        div.submission-header
            span(style='font-size: 3.3em').fa.fa-cloud-upload
            p(style='font-size: 1.7em; font-weight: bolder')
                | Tell us about your experiment!

            div.tab-content
            form(method='post',enctype='multipart/form-data')
                        if errors.length > 0

                            each error in errors
                                div.alert.alert-danger
                                    p #{error}
                                br

                        input(type="hidden", name="submitType", value="new")
                        div.row
                            div.col-md-12
                                div.form-group-100.required
                                    label(for="experiment_name") Experiment Name
                                    input.form-control(name='experiment_name',id="experiment_name",placeholder='The name of the experiment.', value=submission.experiment_name)

                        div.row
                            div.col-md-12
                                div.form-group-100.required
                                    label(for="agent") Researcher
                                    select.form-control(name='agent', id="agent")
                                            option(value='', selected='selected') The name of the researcher who built the design.
                                            - for(var i=0;i< agent_names.length;i++) {
                                              option(value = [agent_uris[i],agent_names[i]]) #{agent_names[i]}
                                            - }

                        div.row
                            div.col-md-12
                                div.form-group-100.required
                                    label(for="description") Purpose
                                    input.form-control(name='description',id="description"
                                            placeholder='Brief description about the purpose of this live design.',value=submission.description)
                      
                      
                        div.row
                            div.col-md-12
                                div.form-group-100.required
                                    label(for="plan") Experiment Metadata
                                    input.form-control(name='plan2',id="plan2",placeholder='Metadata for the experiment performed', value=submission.metadata)


                            .panel.panel-default
                                .panel-heading
                                    h4.panel-title
                                        a.accordion-toggle(data-toggle='collapse', href='#collapseSix')
                                            | <b>Please upload a file describing the experiment metadata</b>
                                #collapseSix.panel-collapse.collapse.in
                                    .panel-body
                                        div.row
                                            div.col-md-12

                                                if canEdit
                                                    div.row
                                                            div.col-xs-6
                                                                div.input-group
                                                                    label.input-group-btn
                                                                        span.btn.btn-primary
                                                                            | Select file(s)&hellip;
                                                                            input(type="file",name="file",style="display: none;",multiple)
                                                                    input(type="text",class="form-control",readonly)
                                                            div.col-xs-3
              
                      
                                            

                        div.row
                            div.col-md-12
                              div.form-group-100.required
                                    div
                                      label(for="agent") Lab Protocol Used
                                      input(type="checkbox", style='margin-left:50px', data-toggle='collapse', data-target='.collapseForm', id="ast1", name="plan_submission_type[]")
                                      | Create a new Lab Protocol
              

                        div.row
                            div.col-md-12
                                div.form-group-100.required
                                    .collapseForm.panel-collapse.collapse.in
                                        .panel-body
                                        select.form-control(name='plan1', id="plan1")
                                                option(value='', selected='selected') The name of the Lab Protocol used to build the design.
                                                - for(var i=0;i< plan_names.length;i++) {
                                                  option(value = [plan_uris[i],plan_names[i]]) #{plan_names[i]}
                                                - }


                        div.row
                            
                                .collapseForm.panel-collapse.collapse
                                    .panel-body
                                    div.row
                                    div.col-md-12
                                        div.form-group-100.required
                                            label(for="plan") Lab Protocol Used
                                            input.form-control(name='plan2',id="plan2",placeholder='The name of the lab protocol used to build the design.', value=submission.plan2)


                                    .panel.panel-default
                                        .panel-heading
                                            h4.panel-title
                                                a.accordion-toggle(data-toggle='collapse', href='#collapseSix')
                                                    | <b>Please upload a file describing the lab protocol</b>
                                        #collapseSix.panel-collapse.collapse.in
                                            .panel-body
                                                div.row
                                                    div.col-md-12

                                                        if canEdit
                                                            div.row
                                                                    div.col-xs-6
                                                                        div.input-group
                                                                            label.input-group-btn
                                                                                span.btn.btn-primary
                                                                                    | Select file(s)&hellip;
                                                                                    input(type="file",name="file",style="display: none;",multiple)
                                                                            input(type="text",class="form-control",readonly)
                                                                    div.col-xs-3

                        div.row
                            div.col-md-12
                                button(type='submit').btn.btn-primary.btn-lg Submit
